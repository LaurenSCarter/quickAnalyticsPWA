<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2196F3">
    <title>Quick Analytics</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- iOS PWA Support -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Quick Analytics">

    <link rel="icon" href="/icons/favicon.ico" />

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-container">
        <header>
            <div class="header-left">
                <img src="icons/logo-zinc.svg" alt="Quick Analytics Logo" class="header-logo">
                <h1>Quick Analytics</h1>
            </div>
            <div class="status-indicator">
                <span id="online-status" class="status online">●</span>
                <span id="status-text">Online</span>
            </div>
        </header>

        <div class="page-nav">
            <a href="analytics.html" class="dashboard-link">View Current Dashboard →</a>
        </div>

        <main>
            <form id="time-entry-form" class="entry-form">
                <div class="form-group">
                    <label for="date">Date</label>
                    <input type="date" id="date" name="date">
                </div>

                <div class="form-group">
                    <label for="category">Category</label>
                    <select id="category" name="category" required>
                        <option value="">Select Category</option>
                        <option value="Ascension Pathway">Ascension Pathway</option>
                        <option value="Health">Health</option>
                        <option value="Home Management">Home Management</option>
                        <option value="Work">Work</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="task">Sub Category</label>
                    <select id="task" name="task" required>
                        <option value="">Select Category First</option>
                    </select>
                </div>

                <div class="form-group" id="custom-task-group" style="display: none;">
                    <label for="custom-task">Custom Sub Category</label>
                    <input type="text" id="custom-task" name="customTask" placeholder="Enter your custom task">
                </div>

                <div class="form-group">
                    <label for="client">Sub-Sub Category</label>
                    <select id="client" name="client">
                        <option value="">Select Sub Category First</option>
                    </select>
                </div>

                <div class="form-group" id="custom-client-group" style="display: none;">
                    <label for="custom-client">Custom Sub-Sub Category</label>
                    <input type="text" id="custom-client" name="customClient" placeholder="Enter your custom sub-sub category">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="start-time">Start Time</label>
                        <input type="time" id="start-time" name="startTime" required>
                    </div>

                    <div class="form-group">
                        <label for="end-time">End Time</label>
                        <input type="time" id="end-time" name="endTime" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="energy">Inspiration (Life Force Enhancing)</label>
                    <p>Did you find this activity life force enhancing and inspirational? or was it frustrating and draining</p>
                    <input type="range" id="energy" name="energy" min="-5" max="5" value="0" class="energy-slider">
                    <div class="energy-labels">
                        <span>Draining (-5)</span>
                        <span id="energy-value">0</span>
                        <span>Inspiring (+5)</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="notes">Notes</label>
                    <textarea id="notes" name="notes" placeholder="Any additional context..." rows="3"></textarea>
                </div>

                <button type="submit" class="submit-btn">
                    <span class="btn-text">Log Time Entry</span>
                    <span class="btn-spinner" style="display: none;">⏳</span>
                </button>
            </form>

            <div id="message" class="message" style="display: none;"></div>

            <div class="quick-actions">
                <h3>Quick Actions</h3>
                <button class="quick-btn" data-category="Work" data-task="Meeting">Work Meeting</button>
                <button class="quick-btn" data-category="Personal" data-task="Exercise">Exercise</button>
                <button class="quick-btn" data-category="Learning" data-task="Reading">Reading</button>
            </div>

            <div class="pending-entries" id="pending-entries" style="display: none;">
                <h3>Pending Sync</h3>
                <div id="pending-list"></div>
                <button id="sync-now" class="sync-btn">Sync Now</button>
            </div>
        </main>
    </div>

    <script src="constants.js"></script>
    <script src="app.js"></script>
    <script>
        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>
</body>

</html>